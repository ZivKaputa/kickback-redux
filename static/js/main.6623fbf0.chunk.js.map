{"version":3,"sources":["actions/queue/requestItems.js","actions/queue/receiveItems.js","actions/queue/updateScrollPosition.js","actions/queue/fetchItems.js","actions/queue/deleteItemLocally.js","actions/queue/deleteItem.js","actions/queue/reorderItemsLocally.js","actions/queue/reorderItems.js","components/KBQueueItem/KBQueueItem.js","components/KBQueueNowPlaying/KBQueueNowPlaying.js","components/KBQueue/KBQueue.js","containers/KBQueueContainer/KBQueueContainer.js","components/KBNowPlaying/KBNowPlaying.js","containers/KBNowPlayingContainer/KBNowPlayingContainer.js","actions/queue/addItemLocally.js","actions/search/updateScrollPosition.js","components/KBSearchResult/KBSearchResult.js","components/KBSearchResultList/KBSearchResultList.js","containers/KBSearchResultListContainer/KBSearchResultListContainer.js","actions/queue/addItem.js","components/KBNavBar/KBNavBar.js","components/KBNavBarButton/KBNavBarButton.js","components/KBNavBarSpacer/KBNavBarSpacer.js","actions/tab/updateCurrent.js","reducers/tab/current.js","actions/search/requestResults.js","actions/search/receiveResults.js","actions/search/fetchResults.js","actions/search/updateQuery.js","components/PatientSearchBar/PatientSearchBar.js","components/KBSearchBar/KBSearchBar.js","components/KBSearch/KBSearch.js","containers/KBSearchContainer/KBSearchContainer.js","components/KBControlPanelNavBar/KBControlPanelNavBar.js","actions/menu/toggleMenu.js","actions/chat/toggleChat.js","containers/KBControlPanelNavBarContainer/KBControlPanelNavBarContainer.js","actions/menu/updateCurrentMenuView.js","reducers/menu/currentView.js","components/KBMenuPrimaryView/KBMenuPrimaryView.js","actions/user/updateUserLocally.js","actions/user/updateUserOwnedSessionLocally.js","actions/user/updateUserOwnedSession.js","actions/user/requestFollowing.js","actions/user/receiveFollowing.js","actions/user/fetchFollowing.js","actions/user/updateUser.js","actions/user/refreshUser.js","actions/session/updateSessionLocally.js","actions/session/updateSession.js","actions/session/refreshSession.js","actions/menu/updateMenuFormField.js","containers/KBMenuPrimaryViewContainer/KBMenuPrimaryViewContainer.js","actions/user/deleteOwnedSession.js","actions/user/unfollowUser.js","components/KBFormInputBar/KBFormInputBar.js","components/KBMenuFormView/KBMenuFormView.js","components/KBMenu/KBMenu.js","actions/menu/updateMenuFormError.js","actions/menu/submitMenuForm.js","actions/user/followUser.js","containers/KBMenuContainer/KBMenuContainer.js","components/KBControlPanel/KBControlPanel.js","containers/KBControlPanelContainer/KBControlPanelContainer.js","actions/spotify/updateAccessTokenLocally.js","components/KBSpotifyManager/KBSpotifyManager.js","containers/KBSpotifyManagerContainer/KBSpotifyManagerContainer.js","App.js","VisibleApp.js","serviceWorker.js","reducers/search/query.js","reducers/search/scrollPosition.js","actions/search/invalidateResults.js","reducers/search/results.js","reducers/search/index.js","actions/queue/invalidateItems.js","reducers/queue/data.js","reducers/queue/scrollPosition.js","reducers/queue/index.js","reducers/session/id.js","reducers/session/name.js","reducers/session/index.js","reducers/user/id.js","reducers/user/session.js","actions/user/invalidateFollowing.js","reducers/user/following.js","reducers/user/index.js","reducers/tab/index.js","reducers/menu/isOpen.js","reducers/menu/formInfo.js","reducers/menu/index.js","reducers/chat/isOpen.js","reducers/chat/index.js","reducers/spotify/accessToken.js","reducers/spotify/index.js","reducers/index.js","index.js","actions/user/restoreUser.js","actions/session/restoreSession.js","logo.svg"],"names":["QUEUE_REQUEST_ITEMS","QUEUE_RECEIVE_ITEMS","receiveItems","sessionId","requestedAt","items","type","receivedAt","Date","now","QUEUE_UPDATE_SCROLL_POSITION","updateScrollPosition","scrollPosition","fetchItems","dispatch","getState","session","id","requestItems","fetch","then","response","json","error","console","log","QUEUE_DELETE_ITEM_LOCALLY","deleteItem","deleteItemId","deletedTrack","queue","data","DELETE_URL","song_id","deleteItemLocally","QUEUE_REORDER_ITEMS_LOCALLY","reorderItems","fromId","toId","newItemsReorder","Array","from","movedItemReorder","splice","nextItem","length","afterSongId","afterSongParam","sessionIdParam","REORDER_URL","reorderItemsLocally","KBQueueItem","draggableId","this","props","track","toString","index","provided","snapshot","draggingClass","isDragging","draggableProps","ref","innerRef","className","src","album_image","name","artists","join","substring","album","isAdmin","dragHandleProps","icon","onClick","onDelete","Component","KBQueueNowPlaying","KBQueue","handleDragEnd","bind","rootRef","React","createRef","handleScroll","current","scrollTop","onScroll","result","destination","source","droppableId","onReorder","tracks","nowPlaying","key","queueItems","slice","map","onDragEnd","droppableProps","placeholder","KBQueueContainer","connect","state","user","songId","KBNowPlaying","item","KBNowPlayingContainer","QUEUE_ADD_ITEM_LOCALLY","SEARCH_UPDATE_SCROLL_POSITION","KBSearchResult","KBSearchResultList","inSession","trackList","KBSearchResultListContainer","search","results","uri","toast","ADD_URL","KBNavBar","navBarClass","children","defaultProps","KBNavBarButton","navBarButtonClass","active","KBNavBarSpacer","fixedStyle","width","flex","style","TAB_UPDATE_CURRENT","tabs","DEFAULT_STATE","SEARCH_REQUEST_RESULTS","SEARCH_RECEIVE_RESULTS","receiveResults","query","fetchResults","requestResults","SEARCH_UPDATE_QUERY","PatientSearchBar","lastChangedAt","handleChange","newText","onChange","changedAt","setTimeout","onPatientChange","waitTime","value","e","target","undefined","KBSearchBar","KBSearch","updateQuery","KBSearchContainer","addItem","titles","now_playing","KBControlPanelNavBar","searchBar","currentTab","title","isMenuOpen","toggleMenu","updateTab","isChatOpen","toggleChat","MENU_TOGGLE","CHAT_TOGGLE","KBControlPanelNavBarContainer","tab","menu","isOpen","chat","newTab","MENU_VIEW_UPDATE_CURRENT","updateCurrentMenuView","currentView","views","PRIMARY","LOGIN","SIGN_UP","JOIN","CREATE","ADD_FOLLOWER","KBMenuPrimaryView","DEFAULT_LOGIN_CONTENT","updateView","DEFAULT_CURRENT_SESSION_CONTENT","username","DEFAULT_MY_SESSION_CONTENT","DEFAULT_FOLLOWING_LIST_CONTENT","usernameContent","logout","currentSessionContent","sessionName","sessionID","leaveSession","mySessionContent","mySessionID","mySessionName","updateSession","deleteMySession","followingListContent","following","rawUserData","Object","keys","userInfo","session_id","session_name","joinSession","unfollowUser","UPDATE_USER_LOCALLY","UPDATE_USER_OWNED_SESSION_LOCALLY","updateUserOwnedSessionLocally","safeNull","obj","updateUserOwnedSession","URL","FOLLOWING_REQUEST_RESULTS","FOLLOWING_RECEIVE_RESULTS","receiveFollowing","fetchFollowing","requestFollowing","updateUser","newUserId","localforage","setItem","getItem","updateUserLocally","UPDATE_SESSION_LOCALLY","newSessionID","newSessionName","sessionInfo","updateSessionLocally","UPDATE_MENU_FORM_FIELD","updateMenuFormField","field","newVal","KBMenuPrimaryViewContainer","view","ok","KBFormInputBar","label","KBMenuFormView","inputs","formInfo","inputContent","onInputChange","onSubmit","submitLabel","onCancel","KBMenu","viewContent","UPDATE_MENU_FORM_ERROR","updateMenuFormError","newError","submitMenuForm","BASE_URL","url","password","sessionPassword","handle","promise","text","errorText","handleError","JSON","parse","handleSuccess","catch","KBMenuContainer","KBControlPanel","mainTab","KBControlPanelContainer","UPDATE_ACCESS_TOKEN_LOCALLY","clientId","redirectUri","authorizeURL","encodeURIComponent","SpotifyWebApi","KBSpotifyManager","handleAuthorization","playSong","pauseSong","checkAuthorization","initializePlayer","player","accessToken","window","location","Spotify","Player","getOAuthToken","callback","volume","addListener","device_id","success","spotify_uri","playerInstance","_options","access_token","method","body","stringify","uris","headers","play","nextProps","nextState","playerActive","currentTrack","onSpotifyWebPlaybackSDKReady","matches","hash","match","RegExp","getHashValue","updateAccessToken","history","replaceState","KBSpotifyManagerContainer","spotify","newAccessToken","App","toastClassName","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnVisibilityChange","draggable","pauseOnHover","VisibleApp","Boolean","hostname","SEARCH_INVALIDATE_RESULTS","isFetching","didInvalidate","lastUpdated","lastRequestedAt","lastSuccesfullyRequestedAt","combineReducers","action","QUEUE_INVALIDATE_ITEMS","newItemsDelete","FOLLOWING_INVALIDATE_RESULTS","USERNAME_PLACEHOLDER","PASSWORD_PLACEHOLDER","SESSION_ID_PLACEHOLDER","SESSION_NAME_PLACEHOLDER","rootReducer","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.6623fbf0.chunk.js","sourcesContent":["export const QUEUE_REQUEST_ITEMS = 'QUEUE_REQUEST_ITEMS'\n\nexport default function requestItems(sessionId, requestedAt) {\n  return {\n    type: QUEUE_REQUEST_ITEMS,\n    sessionId,\n    requestedAt\n  }\n}","export const QUEUE_RECEIVE_ITEMS = 'QUEUE_RECEIVE_ITEMS'\n\nexport default function receiveItems(sessionId, requestedAt, items) {\n  return {\n    type: QUEUE_RECEIVE_ITEMS,\n    items,\n    requestedAt,\n    receivedAt: Date.now()\n  }\n}","export const QUEUE_UPDATE_SCROLL_POSITION = 'QUEUE_UPDATE_SCROLL_POSITION'\n\nexport default function updateScrollPosition(scrollPosition) {\n  return {\n    type: QUEUE_UPDATE_SCROLL_POSITION,\n    scrollPosition\n  }\n}","import requestItems from './requestItems.js'\nimport receiveItems from './receiveItems.js'\nimport updateScrollPosition from './updateScrollPosition.js'\n\nexport default function fetchItems() {\n  return function(dispatch, getState) {\n\n    let sessionId = getState().session.id\n    let requestedAt = Date.now()\n    dispatch(requestItems(sessionId, requestedAt))\n\n    if (!sessionId || sessionId === \"\") {\n      dispatch(receiveItems(sessionId, requestedAt, []))\n      dispatch(updateScrollPosition(0))\n      return\n    }\n\n    return fetch(`https://frabric.herokuapp.com/get_queue/?session_id=${sessionId}`)\n      .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n      )\n      .then(json => {\n        dispatch(receiveItems(sessionId, requestedAt, json))\n        dispatch(updateScrollPosition(0))\n      })\n  }\n}","export const QUEUE_DELETE_ITEM_LOCALLY = 'QUEUE_DELETE_ITEM_LOCALLY'\n\nexport default function deleteItemLocally(deleteItemId) {\n  return {\n    type: QUEUE_DELETE_ITEM_LOCALLY,\n    deleteItemId\n  }\n}","import fetchItems from './fetchItems.js'\nimport deleteItemLocally from './deleteItemLocally.js'\n\nexport default function deleteItem(deleteItemId) {\n  return function(dispatch, getState) {\n\n    const deletedTrack = getState().queue.data.items[deleteItemId]\n    let DELETE_URL = `https://frabric.herokuapp.com/delete_song/?song_id=${deletedTrack.song_id}`\n\n    dispatch(deleteItemLocally(deleteItemId))\n\n    fetch(DELETE_URL).then(\n      error => console.log('An error occurred.', error)\n    ).then(response => {\n      dispatch(fetchItems())\n    })\n\n  }\n}","export const QUEUE_REORDER_ITEMS_LOCALLY = 'QUEUE_REORDER_ITEMS_LOCALLY'\n\nexport default function reorderItemsLocally(fromId, toId) {\n  return {\n    type: QUEUE_REORDER_ITEMS_LOCALLY,\n    fromId,\n    toId\n  }\n}","import fetchItems from './fetchItems.js'\nimport reorderItemsLocally from './reorderItemsLocally.js'\n\nexport default function reorderItems(fromId, toId) {\n  return function(dispatch, getState) {\n\n    let newItemsReorder = Array.from(getState().queue.data.items)\n    let movedItemReorder = newItemsReorder[fromId]\n    newItemsReorder.splice(fromId, 1)\n    const nextItem = (toId < newItemsReorder.length) ? newItemsReorder[toId] : null\n\n    const afterSongId = (nextItem ? nextItem.song_id : null)\n    const afterSongParam = afterSongId ? (\"&after_song_id=\" + afterSongId) : \"\"\n    const sessionIdParam = \"&session_id=\" + getState().session.id\n    let REORDER_URL = \"https://frabric.herokuapp.com/move_song?move_song_id=\" + movedItemReorder.song_id + afterSongParam + sessionIdParam\n\n    dispatch(reorderItemsLocally(fromId, toId))\n\n    fetch(REORDER_URL).then(\n      error => console.log('An error occurred.', error)\n    ).then(response => {\n      dispatch(fetchItems())\n    })\n\n  }\n}\n\n\n\n","import React, { Component } from 'react'\nimport { Draggable } from 'react-beautiful-dnd'\nimport PropTypes from 'prop-types'\nimport { MDBIcon } from \"mdbreact\"\nimport './KBQueueItem.scss'\n\nconst DEFAULT_ALBUM_IMAGE = \"http://cdn.last.fm/flatness/responsive/2/noimage/default_album_300_g4.png\"\n\nclass KBQueueItem extends Component {\n\n  render() {\n    return (\n      <Draggable draggableId={this.props.track.song_id.toString()} index={this.props.index}>\n        {(provided, snapshot) => {\n\n          let draggingClass = snapshot.isDragging ? 'kb-queue-item-container-dragging' : ''\n\n          return (\n            <div\n              {...provided.draggableProps}\n              ref={provided.innerRef}\n              className='kb-queue-item'\n            >\n              <div className={'kb-queue-item-container ' + draggingClass}>\n                <div className='kb-queue-item-image-container'>\n                  <img className='kb-queue-item-image' src={this.props.track.album_image || DEFAULT_ALBUM_IMAGE}/>\n                </div>\n                <div className='kb-queue-item-info-container'>\n                  <div className='kb-queue-item-info-pad'/>\n                  <div className='kb-queue-item-name'>\n                    {this.props.track.name}\n                  </div>\n                  <div className='kb-queue-item-details'>\n                    {this.props.track.artists.join(\", \").substring(0,50)} • {this.props.track.album.substring(0,50)}\n                  </div>\n                  <div className='kb-queue-item-info-pad'/>\n                </div>\n                {this.props.isAdmin ? (\n                  <div {...provided.dragHandleProps} className='kb-queue-item-drag-handle'>\n                    <MDBIcon icon=\"grip-lines\"/>\n                  </div>\n                ) : null}\n                {this.props.isAdmin ? (\n                  <div className='kb-queue-item-delete' onClick={() => this.props.onDelete(this.props.index)}>\n                    <MDBIcon icon=\"minus-circle\"/>\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          )\n        }}\n      </Draggable>\n    )\n  }\n\n}\n\nKBQueueItem.propTypes = {\n  track: PropTypes.object,\n  index: PropTypes.number,\n  isAdmin: PropTypes.bool\n}\n\nexport default KBQueueItem","import React, { Component } from 'react'\nimport { Draggable } from 'react-beautiful-dnd'\nimport PropTypes from 'prop-types'\nimport { MDBIcon } from \"mdbreact\"\nimport './KBQueueNowPlaying.scss'\nimport '../KBQueueItem/KBQueueItem.scss'\n\nconst DEFAULT_ALBUM_IMAGE = \"http://cdn.last.fm/flatness/responsive/2/noimage/default_album_300_g4.png\"\n\nclass KBQueueNowPlaying extends Component {\n\n  render() {\n    return (\n      <div className='kb-queue-item kb-queue-now-playing'>\n        <div className='kb-queue-item-container'>\n          <div className='kb-queue-item-image-container'>\n            <img className='kb-queue-item-image' src={this.props.track.album_image || DEFAULT_ALBUM_IMAGE}/>\n          </div>\n          <div className='kb-queue-item-info-container'>\n            <div className='kb-queue-item-info-pad'/>\n            <div className='kb-queue-item-name'>\n              {this.props.track.name}\n            </div>\n            <div className='kb-queue-item-details'>\n              {this.props.track.artists.join(\", \").substring(0,50)} • {this.props.track.album.substring(0,50)}\n            </div>\n            <div className='kb-queue-item-info-pad'/>\n          </div>\n          <div className='kb-queue-now-playing-label'>\n            Now Playing\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nKBQueueNowPlaying.propTypes = {\n  track: PropTypes.object\n}\n\nexport default KBQueueNowPlaying","import React, { Component } from \"react\"\nimport PropTypes from 'prop-types'\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd'\nimport KBQueueItem from '../KBQueueItem'\nimport KBQueueNowPlaying from '../KBQueueNowPlaying'\nimport './KBQueue.scss'\n\nclass KBQueue extends Component {\n\n  constructor(props) {\n    super(props);\n    this.handleDragEnd = this.handleDragEnd.bind(this)\n    this.rootRef = React.createRef()\n    this.handleScroll = this.handleScroll.bind(this)\n  }\n\n  componentDidMount() {\n    if (this.rootRef.current && this.props.scrollPosition) {\n      this.rootRef.current.scrollTop = this.props.scrollPosition\n    }\n  }\n\n  handleScroll() {\n    this.props.onScroll(this.rootRef.current.scrollTop)\n  }\n\n  handleDragEnd(result) {\n    const {destination, source, draggableId } = result\n    if (!destination) {\n      return;\n    }\n    if (destination.droppableId === source.droppableId && destination.index === source.index) {\n      return;\n    }\n    this.props.onReorder(source.index, destination.index)\n  }\n\n  render() {\n\n    if (this.props.tracks.length == 0) {\n      return (\n        <div className='kb-queue-list'>\n          <div className='kb-queue-empty'>\n            No tracks in queue\n          </div>\n        </div>\n      )\n    }\n\n    const nowPlaying = (this.props.tracks.length > 0) ? <KBQueueNowPlaying track={this.props.tracks[0]} key={this.props.tracks[0].song_id}/> : <div></div>\n\n    const queueItems = this.props.tracks.slice(1).map((track, index) =>\n      <KBQueueItem\n        isAdmin={this.props.isAdmin}\n        track={track}\n        key={track.song_id}\n        index={index+1}\n        onDelete={this.props.onDelete}\n      />\n    );\n\n    return (\n      <div onScroll={this.handleScroll} ref={this.rootRef} className='kb-queue-list'>\n        {nowPlaying}\n        <DragDropContext onDragEnd={this.handleDragEnd}>\n          <Droppable droppableId='kb-queue-droppable'>\n            {(provided) => (\n              <div\n                ref={provided.innerRef}\n                {...provided.droppableProps}\n              >\n                {queueItems}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </div>\n    )\n  }\n}\n\nKBQueue.propTypes = {\n  onReorder: PropTypes.func,\n  onDelete: PropTypes.func,\n  tracks: PropTypes.array,\n  scrollPosition: PropTypes.number,\n  onScroll: PropTypes.func,\n  isAdmin: PropTypes.bool\n}\n\nexport default KBQueue","import { connect } from 'react-redux'\nimport deleteItem from '../../actions/queue/deleteItem'\nimport reorderItems from '../../actions/queue/reorderItems'\nimport updateScrollPosition from '../../actions/queue/updateScrollPosition'\nimport KBQueue from '../../components/KBQueue'\n\nconst mapStateToProps = state => {\n  return {\n    tracks: state.queue.data.items || [],\n    scrollPosition: state.queue.scrollPosition,\n    isAdmin: (state.user.session.id && (state.user.session.id === state.session.id))\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onDelete: songId => {\n      dispatch(deleteItem(songId))\n    },\n    onReorder: (fromId, toId) => {\n      dispatch(reorderItems(fromId, toId))\n    },\n    onScroll: scrollPosition => {\n      dispatch(updateScrollPosition(scrollPosition))\n    }\n  }\n}\n\nconst KBQueueContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBQueue)\n\nexport default KBQueueContainer","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { MDBIcon } from \"mdbreact\"\nimport './KBNowPlaying.scss'\n\nclass KBNowPlaying extends Component {\n  render() {\n    if (!this.props.item) {\n      return (\n          <div className='kb-now-playing'>\n            <div className='kb-now-playing-empty'>\n              No current song\n            </div>\n          </div>\n      )\n    }\n    return (\n      <div className='kb-now-playing'>\n        <div className='flex-padding'/>\n        <div className='kb-now-playing-panel'>\n          <div className='kb-now-playing-image-container'>\n            <img className='kb-now-playing-image' src={this.props.item.album_image}/>\n          </div>\n          <div className='kb-now-playing-info-container'>\n            <div className='kb-now-playing-title'>\n              {this.props.item.name}<br/>\n            </div>\n            <div className='kb-now-playing-artist-album-info'>\n              {this.props.item.artists.join(\", \").substring(0,50)} • {this.props.item.album.substring(0,50)}\n            </div>\n          </div>\n          {this.props.isAdmin ? (\n            <div className='kb-now-playing-control-container'>\n              <div className='flex-padding'/>\n              <div className='kb-now-playing-button'>\n                <MDBIcon icon='pause'/>\n              </div>\n              <div className='kb-now-playing-button'>\n                <MDBIcon icon='step-forward'/>\n              </div>\n              <div className='flex-padding'/>\n            </div>\n          ) : null }\n        </div>\n        <div className='flex-padding'/>\n      </div>\n    )\n  }\n}\n\nKBNowPlaying.propTypes = {\n  item: PropTypes.object,\n  isAdmin: PropTypes.bool\n}\n\nexport default KBNowPlaying","import { connect } from 'react-redux'\nimport KBNowPlaying from '../../components/KBNowPlaying'\n\nconst mapStateToProps = state => {\n  var item = null\n  if (state.queue.data.items && state.queue.data.items.length > 0) {\n    item = state.queue.data.items[0]\n  }\n\n  let isAdmin = (state.user.session.id && (state.user.session.id === state.session.id))\n\n  return {\n    item,\n    isAdmin\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  }\n}\n\nconst KBNowPlayingContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBNowPlaying)\n\nexport default KBNowPlayingContainer","export const QUEUE_ADD_ITEM_LOCALLY = 'QUEUE_ADD_ITEM_LOCALLY'\n\nexport default function addItemLocally(item) {\n  return {\n    type: QUEUE_ADD_ITEM_LOCALLY,\n    item\n  }\n}","export const SEARCH_UPDATE_SCROLL_POSITION = 'SEARCH_UPDATE_SCROLL_POSITION'\n\nexport default function updateScrollPosition(scrollPosition) {\n  return {\n    type: SEARCH_UPDATE_SCROLL_POSITION,\n    scrollPosition\n  }\n}","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport './KBSearchResult.scss'\n\nconst DEFAULT_ALBUM_IMAGE = \"http://cdn.last.fm/flatness/responsive/2/noimage/default_album_300_g4.png\";\n\nclass KBSearchResult extends Component {\n  render() {\n    return (\n      <div className='kb-search-result' onClick={() => this.props.onClick(this.props.track)}>\n        <div className='kb-search-result-image-container'>\n          <img className='kb-search-result-image' src={this.props.track.album_image || DEFAULT_ALBUM_IMAGE}/>\n        </div>\n        <div className='kb-search-result-info-container'>\n          <div className='kb-search-result-info-pad'/>\n          <div className='kb-search-result-name'>\n            {this.props.track.name}\n          </div>\n          <div className='kb-search-result-details'>\n            {this.props.track.artists.join(\", \")} • {this.props.track.album}\n          </div>\n          <div className='kb-search-result-info-pad'/>\n        </div>\n      </div>\n    )\n  }\n}\n\nKBSearchResult.propTypes = {\n  track: PropTypes.object,\n  onClick: PropTypes.func\n}\n\nexport default KBSearchResult;","import React, {Component} from 'react'\nimport KBSearchResult from '../KBSearchResult'\nimport PropTypes from 'prop-types'\nimport './KBSearchResultList.scss'\n\nclass KBSearchResultList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.rootRef = React.createRef()\n    this.handleScroll = this.handleScroll.bind(this)\n  }\n\n  componentDidMount() {\n    if (this.rootRef.current && this.props.scrollPosition) {\n      this.rootRef.current.scrollTop = this.props.scrollPosition\n    }\n  }\n\n  handleScroll() {\n    this.props.onScroll(this.rootRef.current.scrollTop)\n  }\n\n  render() {\n\n    if (!this.props.inSession) {\n      return (\n        <div id='kb-search-results' className=\"kb-empty-search-result\">\n          Join a session to add songs\n        </div>\n      )\n    }\n\n    if (!this.props.tracks || this.props.tracks.length == 0) {\n      return (\n        <div id='kb-search-results' className=\"kb-empty-search-result\">\n          No results\n        </div>\n      )\n    }\n\n    const trackList = this.props.tracks.map((track, index) =>\n      <KBSearchResult\n        key={index}\n        track={track}\n        onClick={this.props.onClick}\n      />\n    );\n\n    return (\n      <div onScroll={this.handleScroll} ref={this.rootRef} id='kb-search-results' className=\"list-group kb-search-result-list\">\n        {trackList}\n      </div>\n    )\n  }\n}\n\nKBSearchResultList.propTypes = {\n  tracks: PropTypes.array,\n  onClick: PropTypes.func,\n  onScroll: PropTypes.func,\n  scrollPosition: PropTypes.number,\n  inSession: PropTypes.bool\n}\n\nexport default KBSearchResultList;","import { connect } from 'react-redux'\nimport addItem from '../../actions/queue/addItem'\nimport updateScrollPosition from '../../actions/search/updateScrollPosition'\nimport KBSearchResultList from '../../components/KBSearchResultList'\nimport { toast } from 'react-toastify'\n\nconst mapStateToProps = state => {\n  return {\n    tracks: state.search.results.items || [],\n    scrollPosition: state.search.scrollPosition,\n    inSession: (state.session.id !== null)\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onClick: track => {\n      toast(\"You added '\" + track.name + \"' to the queue.\")\n      dispatch(addItem(track.uri))\n    },\n    onScroll: scrollTop => {\n      dispatch(updateScrollPosition(scrollTop))\n    }\n  }\n}\n\nconst KBSearchResultListContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBSearchResultList)\n\nexport default KBSearchResultListContainer","import fetchItems from './fetchItems.js'\nimport addItemLocally from './addItemLocally.js'\n\nexport default function addItem(uri) {\n  return function(dispatch, getState) {\n\n    let ADD_URL = `https://frabric.herokuapp.com/add_song/?session_id=${getState().session.id}&uri=${uri}&username=${getState().user.id}`\n\n    // dispatch(addItemLocally(uri)) Currently requires all song info\n\n    fetch(ADD_URL).then(\n      error => console.log('An error occurred.', error)\n    ).then(response => {\n      dispatch(fetchItems())\n    })\n\n  }\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './KBNavBar.scss'\n\nclass KBNavBar extends Component {\n  render() {\n    const navBarClass = (this.props.type === 'primary') ? 'kb-nav-bar-primary' : 'kb-nav-bar-secondary'\n    return (\n      <div className={'kb-nav-bar ' + navBarClass}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nKBNavBar.propTypes = {\n  type: PropTypes.string,\n}\n\nKBNavBar.defaultProps = {\n  type: \"primary\"\n}\n\nexport default KBNavBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { MDBIcon } from 'mdbreact'\nimport './KBNavBarButton.scss'\n\nclass KBNavBarButton extends Component {\n  render() {\n    const navBarButtonClass = this.props.active ? 'kb-nav-bar-button-active' : 'kb-nav-bar-button-inactive'\n    return (\n      <div className='kb-nav-bar-button'>\n        <MDBIcon className={navBarButtonClass} onClick={this.props.onClick} icon={this.props.icon}/>\n      </div>\n    )\n  }\n}\n\nKBNavBarButton.propTypes = {\n  onClick: PropTypes.func,\n  icon: PropTypes.string\n}\n\nexport default KBNavBarButton","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './KBNavBarSpacer.scss'\n\nclass KBNavBarSpacer extends Component {\n\n  render() {\n\n    let fixedStyle = null\n    if (this.props.width) {\n      fixedStyle = {\n        flex: 'none',\n        width: this.props.width\n      }\n    }\n\n    return (\n      <div  className='kb-nav-bar-spacer' style={fixedStyle}>\n      </div>\n    )\n  }\n}\n\nKBNavBarSpacer.propTypes = {\n}\n\nexport default KBNavBarSpacer","export const TAB_UPDATE_CURRENT = 'TAB_UPDATE_CURRENT'\n\nexport default function updateCurrent(currentTab) {\n  return {\n    type: TAB_UPDATE_CURRENT,\n    currentTab\n  }\n}","import { TAB_UPDATE_CURRENT } from '../../actions/tab/updateCurrent.js'\n\nexport const tabs = {\n  SEARCH: 'search',\n  QUEUE: 'queue',\n  NOW_PLAYING: 'now_playing'\n}\n\nconst DEFAULT_STATE = tabs.QUEUE\n\nexport default function current(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case TAB_UPDATE_CURRENT:\n      return action.currentTab\n    default:\n      return state\n  }\n}","export const SEARCH_REQUEST_RESULTS = 'SEARCH_REQUEST_RESULTS'\n\nexport default function requestResults(query, requestedAt) {\n  return {\n    type: SEARCH_REQUEST_RESULTS,\n    query,\n    requestedAt\n  }\n}","export const SEARCH_RECEIVE_RESULTS = 'SEARCH_RECEIVE_RESULTS'\n\nexport default function receiveResults(query, requestedAt, items) {\n  return {\n    type: SEARCH_RECEIVE_RESULTS,\n    items,\n    requestedAt,\n    receivedAt: Date.now()\n  }\n}","import requestResults from './requestResults.js'\nimport receiveResults from './receiveResults.js'\nimport updateScrollPosition from './updateScrollPosition.js'\n\nexport default function fetchResults(query) {\n  return function(dispatch) {\n\n    let requestedAt = Date.now()\n    dispatch(requestResults(query, requestedAt))\n\n    if (query === \"\") {\n      dispatch(receiveResults(query, requestedAt, []))\n      dispatch(updateScrollPosition(0))\n      return\n    }\n\n    return fetch(`https://frabric.herokuapp.com/search/?q=${query}`)\n      .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n      )\n      .then(json => {\n        dispatch(receiveResults(query, requestedAt, json))\n        dispatch(updateScrollPosition(0))\n      })\n  }\n}","export const SEARCH_UPDATE_QUERY = 'SEARCH_UPDATE_QUERY'\n\nexport default function updateQuery(query) {\n  return {\n    type: SEARCH_UPDATE_QUERY,\n    query\n  }\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass PatientSearchBar extends Component {\n\n  constructor(props) {\n    super(props)\n    this.lastChangedAt = Date.now()\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange(newText) {\n    this.props.onChange(newText)\n    const changedAt = Date.now()\n    this.lastChangedAt = changedAt\n    setTimeout(() => {\n      if (changedAt === this.lastChangedAt) {\n        this.props.onPatientChange(newText)\n      }\n    }, this.props.waitTime)\n  }\n\n  render() {\n    return (\n      <input\n        type='text'\n        placeholder={this.props.placeholder}\n        value={this.props.value}\n        onChange={e => this.handleChange(e.target.value)}\n        className={this.props.className}\n      />\n    )\n  }\n\n}\n\nPatientSearchBar.propTypes = {\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n  onPatientChange: PropTypes.func,\n  onChange: PropTypes.func,\n  waitTime: PropTypes.number,\n  className: PropTypes.string,\n}\n\nPatientSearchBar.defaultProps = {\n  placeholder: \"Search...\",\n  value: undefined,\n  onPatientChange: () => {},\n  onChange: () => {},\n  waitTime: 0,\n  className: \"\"\n}\n\nexport default PatientSearchBar","import React, { Component } from 'react'\nimport PatientSearchBar from '../PatientSearchBar'\nimport PropTypes from 'prop-types'\nimport './KBSearchBar.scss'\n\nclass KBSearchBar extends Component {\n  render() {\n    return (\n      <PatientSearchBar\n        placeholder={this.props.placeholder}\n        value={this.props.value}\n        waitTime={200}\n        onPatientChange={this.props.onPatientChange}\n        onChange={this.props.onChange}\n        className={\"kb-search-bar \" + this.props.className}\n      />\n    )\n  }\n}\n\nKBSearchBar.propTypes = {\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n  onPatientChange: PropTypes.func,\n  onChange: PropTypes.func,\n  className: PropTypes.string\n}\n\nKBSearchBar.defaultProps = {\n  placeholder: \"Search...\",\n  value: undefined,\n  onPatientChange: () => {},\n  onChange: () => {},\n  className: \"\"\n}\n\nexport default KBSearchBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport KBSearchBar from '../KBSearchBar'\n\nclass KBSearch extends Component {\n  render() {\n    return (\n      <div>\n        <KBSearchBar\n          onPatientChange={this.props.fetchResults}\n          onChange={this.props.updateQuery}\n          value={this.props.query}\n        />\n      </div>\n    )\n  }\n}\n\nKBSearch.propTypes = {\n  fetchResults: PropTypes.func,\n  updateQuery: PropTypes.func,\n  query: PropTypes.string,\n}\n\nexport default KBSearch","import { connect } from 'react-redux'\nimport fetchResults from '../../actions/search/fetchResults'\nimport updateQuery from '../../actions/search/updateQuery'\nimport addItem from '../../actions/queue/addItem'\nimport deleteItem from '../../actions/queue/deleteItem'\nimport reorderItems from '../../actions/queue/reorderItems'\nimport KBSearch from '../../components/KBSearch'\n\nconst mapStateToProps = state => {\n  return {\n    items: state.search.results.items,\n    query: state.search.query\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateQuery: query => {\n      dispatch(updateQuery(query))\n    },\n    fetchResults: query => {\n      dispatch(fetchResults(query))\n    },\n    addItem: (uri) => {\n      dispatch(reorderItems(1,2))\n      // dispatch(deleteItem(1))\n      // dispatch(addItem(uri))\n    }\n  }\n}\n\nconst KBSearchContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBSearch)\n\nexport default KBSearchContainer","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport KBNavBar from '../KBNavBar'\nimport KBNavBarButton from '../KBNavBarButton'\nimport KBNavBarSpacer from '../KBNavBarSpacer'\nimport {tabs} from '../../reducers/tab/current.js'\nimport KBSearchContainer from '../../containers/KBSearchContainer'\nimport './KBControlPanelNavBar.scss'\n\nconst titles = {\n  search: '',\n  queue: 'Queue',\n  now_playing: 'Now Playing'\n}\n\nclass KBControlPanelNavBar extends Component {\n  render() {\n\n    const searchBar = this.props.currentTab === tabs.SEARCH ? <KBSearchContainer/> : null\n    const title = titles[this.props.currentTab]\n\n    return (\n      <KBNavBar type='secondary'>\n        <KBNavBarButton active={this.props.isMenuOpen} icon='bars' onClick={() => {this.props.toggleMenu()}}/>\n        <KBNavBarSpacer width='4px'/>\n        {title}{searchBar}\n        <KBNavBarSpacer/>\n        <KBNavBarButton active={this.props.currentTab === tabs.SEARCH} icon='search' onClick={() => {this.props.updateTab(tabs.SEARCH)}}/>\n        <KBNavBarButton active={this.props.currentTab === tabs.QUEUE} icon='list-alt' onClick={() => {this.props.updateTab(tabs.QUEUE)}}/>\n        <KBNavBarButton active={this.props.currentTab === tabs.NOW_PLAYING} icon='volume-up' onClick={() => {this.props.updateTab(tabs.NOW_PLAYING)}}/>\n        <KBNavBarSpacer width='4px'/>\n        <KBNavBarButton active={this.props.isChatOpen} icon='comments' onClick={() => {this.props.toggleChat()}}/>\n      </KBNavBar>\n    )\n  }\n}\n\nKBControlPanelNavBar.propTypes = {\n  isMenuOpen: PropTypes.bool,\n  currentTab: PropTypes.string,\n  isChatOpen: PropTypes.bool,\n  updateTab: PropTypes.func,\n  toggleChat: PropTypes.func,\n  toggleMenu: PropTypes.func,\n}\n\nexport default KBControlPanelNavBar","export const MENU_TOGGLE = 'MENU_TOGGLE'\n\nexport default function toggleMenu(currentTab) {\n  return {\n    type: MENU_TOGGLE\n  }\n}","export const CHAT_TOGGLE = 'CHAT_TOGGLE'\n\nexport default function toggleChat(currentTab) {\n  return {\n    type: CHAT_TOGGLE\n  }\n}","import { connect } from 'react-redux'\nimport KBControlPanelNavBar from '../../components/KBControlPanelNavBar'\nimport updateCurrent from '../../actions/tab/updateCurrent'\nimport toggleMenu from '../../actions/menu/toggleMenu'\nimport toggleChat from '../../actions/chat/toggleChat'\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.tab.current,\n    isMenuOpen: state.menu.isOpen,\n    isChatOpen: state.chat.isOpen\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateTab: newTab => {\n      dispatch(updateCurrent(newTab))\n    },\n    toggleMenu: newTab => {\n      dispatch(toggleMenu())\n    },\n    toggleChat: newTab => {\n      dispatch(toggleChat())\n    }\n  }\n}\n\nconst KBControlPanelNavBarContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBControlPanelNavBar)\n\nexport default KBControlPanelNavBarContainer","export const MENU_VIEW_UPDATE_CURRENT = 'MENU_VIEW_UPDATE_CURRENT'\n\nexport default function updateCurrentMenuView(currentView) {\n  return {\n    type: MENU_VIEW_UPDATE_CURRENT,\n    currentView\n  }\n}","import { MENU_VIEW_UPDATE_CURRENT } from '../../actions/menu/updateCurrentMenuView.js'\n\nexport const views = {\n  PRIMARY: 'primary',\n  LOGIN: 'login',\n  SIGN_UP: 'sign_up',\n  JOIN: 'join',\n  CREATE: 'create',\n  ADD_FOLLOWER: 'add_follower'\n}\n\nconst DEFAULT_STATE = views.PRIMARY\n\nexport default function currentView(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case MENU_VIEW_UPDATE_CURRENT:\n      return action.currentView\n    default:\n      return state\n  }\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { views } from '../../reducers/menu/currentView'\nimport './KBMenuPrimaryView.scss'\n\nclass KBMenuPrimaryView extends Component {\n  render() {\n\n    const DEFAULT_LOGIN_CONTENT = (\n      <div className='kb-menu-primary-bottom-controls'>\n        <a className='kb-menu-link' onClick={() => {this.props.updateView(views.LOGIN)}}>Log In</a>\n        <span> • </span>\n        <a className='kb-menu-link' onClick={() => {this.props.updateView(views.SIGN_UP)}}>Sign Up</a>\n      </div>\n    )\n    const DEFAULT_CURRENT_SESSION_CONTENT = (\n      <div className='kb-menu-primary-bottom-controls'>\n        {\n          this.props.username ? (\n            <span>\n              <a className='kb-menu-link' onClick={() => {this.props.updateView(views.JOIN)}}>Join</a>\n              <span> • </span>\n              <a className='kb-menu-link' onClick={() => {this.props.updateView(views.CREATE)}}>Create</a>\n            </span>\n          ) : (\n            <span>\n              <a className='kb-menu-link' onClick={() => {this.props.updateView(views.JOIN)}}>Join</a>\n              <span> • </span>\n              <a className='kb-menu-link' onClick={() => {this.props.updateView(views.LOGIN)}}>Log In</a>\n              <span> (to Create)</span>\n            </span>\n          )\n        }\n      </div>\n    )\n    const DEFAULT_MY_SESSION_CONTENT = (\n      <div className='kb-menu-primary-bottom-controls'>\n        {\n          this.props.username ? (\n            <span>\n              <a className='kb-menu-link' onClick={() => {this.props.updateView(views.CREATE)}}>Create</a>\n            </span>\n          ) : (\n            <span>\n              <a className='kb-menu-link' onClick={() => {this.props.updateView(views.LOGIN)}}>Log In</a><span> to Create</span>\n            </span>\n          )\n        }\n      </div>\n    )\n    const DEFAULT_FOLLOWING_LIST_CONTENT = (\n      <div className='kb-menu-primary-bottom-controls'>\n        <a className='kb-menu-link' onClick={() => {this.props.updateView(views.ADD_FOLLOWER)}}>Follow a New User</a>\n      </div>\n    )\n\n    const usernameContent = this.props.username\n    ? (\n      <div>\n        <div className='kb-menu-important'>\n          <span className='kb-menu-bolder'>Username: </span>\n          {this.props.username}\n        </div>\n        <div className='kb-menu-primary-bottom-controls'>\n          <a className='kb-menu-link' onClick={this.props.logout}>Log Out</a>\n        </div>\n      </div>\n    )\n    : DEFAULT_LOGIN_CONTENT\n\n    const currentSessionContent = this.props.sessionName\n      ? (\n        <div>\n          <div className='kb-menu-important'>\n            <span className='kb-menu-bolder'>Name: </span>\n            {this.props.sessionName}\n          </div>\n          <div className='kb-menu-important'>\n            <span className='kb-menu-bolder'>ID: </span>\n            {this.props.sessionID}\n          </div>\n          <div className='kb-menu-primary-bottom-controls'>\n            <a className='kb-menu-link' onClick={this.props.leaveSession}>Leave</a>\n            <span> • </span>\n            <a className='kb-menu-link' onClick={() => {this.props.updateView(views.JOIN)}}>Switch</a>\n          </div>\n        </div>\n      )\n      : DEFAULT_CURRENT_SESSION_CONTENT\n\n    const mySessionContent = this.props.mySessionID ? (\n      <div>\n        <div className='kb-menu-important'>\n          <span className='kb-menu-bolder'>Name: </span> {this.props.mySessionName}\n        </div>\n        <div className='kb-menu-important'>\n          <span className='kb-menu-bolder'>ID: </span> {this.props.mySessionID}\n        </div>\n        <div className='kb-menu-primary-bottom-controls'>\n          {this.props.sessionID !== this.props.mySessionID ? (\n            <span>\n              <a className='kb-menu-link' onClick={() => this.props.updateSession(this.props.mySessionID, this.props.mySessionName)}>Rejoin</a>\n              <span> • </span>\n            </span>\n          ) : null}\n          <a className='kb-menu-link' onClick={this.props.deleteMySession}>End</a>\n        </div>\n      </div>\n    ) : DEFAULT_MY_SESSION_CONTENT\n\n    const followingListContent = (this.props.following && this.props.following.length > 0)\n      ? this.props.following.map(rawUserData => {\n          let username = Object.keys(rawUserData)[0]\n          let userInfo = rawUserData[username]\n          return (\n            <div className='kb-following' key={username}>\n              <div className='kb-following-username'>{username}</div>\n              {userInfo.session_id ? <div className='kb-following-session-header'>Current Session</div> : null}\n              {userInfo.session_id ? (\n                <div className='kb-following-subinfo'>\n                  <span className='kb-following-subinfo-label'>Name: </span>{userInfo.session_name}\n                </div>)\n              : null}\n              {(userInfo.session_id && userInfo.now_playing) ? (\n                <div className='kb-following-subinfo'>\n                  <span className='kb-following-subinfo-label'>Now Playing: </span>{userInfo.now_playing.name}\n                </div>)\n              : null}\n              <div className='kb-following-controls'>\n                {userInfo.session_id ? (\n                  <span>\n                    <a className='kb-menu-link' onClick={() => this.props.joinSession(userInfo.session_id)}>Join Session</a>\n                    <span> • </span>\n                  </span>\n                ) : null}\n                <a className='kb-menu-link' onClick={() => this.props.unfollowUser(username)}>Unfollow</a>\n              </div>\n            </div>\n          )\n      })\n      : null\n\n    return (\n      <div className='kb-menu-primary-view'>\n        <div className='kb-menu-primary-view-section'>\n          <div className='kb-menu-primary-view-section-title'> Account Info </div>\n          <div className='kb-menu-primary-view-section-content'> {usernameContent} </div>\n        </div>\n        <div className='kb-menu-primary-view-section'>\n          <div className='kb-menu-primary-view-section-title'> My Session </div>\n          <div className='kb-menu-primary-view-section-content'> {mySessionContent} </div>\n        </div>\n        <div className='kb-menu-primary-view-section'>\n          <div className='kb-menu-primary-view-section-title'> Current Session </div>\n          <div className='kb-menu-primary-view-section-content'> {currentSessionContent} </div>\n        </div>\n        <div className='kb-menu-primary-view-section'>\n          <div className='kb-menu-primary-view-section-title'> Following </div>\n          <div className='kb-menu-primary-view-section-content'> {DEFAULT_FOLLOWING_LIST_CONTENT} {followingListContent} </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nKBMenuPrimaryView.propTypes = {\n  updateView: PropTypes.func,\n  logout: PropTypes.func,\n  leaveSession: PropTypes.func,\n  updateSession: PropTypes.func,\n  joinSession: PropTypes.func,\n  deleteMySession: PropTypes.func,\n  deleteAccount: PropTypes.func,\n  username: PropTypes.string,\n  sessionName: PropTypes.string,\n  sessionID: PropTypes.string,\n  mySessionID: PropTypes.string,\n  mySessionName: PropTypes.string,\n  following: PropTypes.array,\n  unfollowUser: PropTypes.func\n}\n\nexport default KBMenuPrimaryView","export const UPDATE_USER_LOCALLY = 'UPDATE_USER_LOCALLY'\n\nexport default function updateUserLocally(newUserId) {\n  return {\n    type: UPDATE_USER_LOCALLY,\n    newUserId\n  }\n}","export const UPDATE_USER_OWNED_SESSION_LOCALLY = 'UPDATE_USER_OWNED_SESSION_LOCALLY'\n\nexport default function updateUserOwnedSessionLocally(sessionID, sessionName) {\n  return {\n    type: UPDATE_USER_OWNED_SESSION_LOCALLY,\n    sessionID,\n    sessionName\n  }\n}","import updateUserOwnedSessionLocally from './updateUserOwnedSessionLocally'\n\nfunction safeNull(obj) {\n  if (!obj) {\n    return null\n  }\n  return obj\n}\n\nexport default function updateUserOwnedSession() {\n  return function(dispatch, getState) {\n    const URL = `https://frabric.herokuapp.com/get_owned_session?owner=${getState().user.id}`\n\n    fetch(URL).then(\n      response => response.json(),\n      error => console.log('An error occurred.', error)\n    ).then(json => {\n      dispatch(updateUserOwnedSessionLocally(safeNull(json.session_id), safeNull(json.session_name)))\n    })\n  }\n}","export const FOLLOWING_REQUEST_RESULTS = 'FOLLOWING_REQUEST_RESULTS'\n\nexport default function requestFollowing(requestedAt) {\n  return {\n    type: FOLLOWING_REQUEST_RESULTS,\n    requestedAt\n  }\n}","export const FOLLOWING_RECEIVE_RESULTS = 'FOLLOWING_RECEIVE_RESULTS'\n\nexport default function receiveFollowing(requestedAt, items) {\n  return {\n    type: FOLLOWING_RECEIVE_RESULTS,\n    items,\n    requestedAt,\n    receivedAt: Date.now()\n  }\n}","import requestFollowing from './requestFollowing.js'\nimport receiveFollowing from './receiveFollowing.js'\n\nexport default function fetchFollowing() {\n  return function(dispatch, getState) {\n\n    let requestedAt = Date.now()\n    dispatch(requestFollowing(requestedAt))\n\n    if (!getState().user.id) {\n      dispatch(receiveFollowing(requestedAt, []))\n    }\n\n    return fetch(`https://frabric.herokuapp.com/get_following/?username=${getState().user.id}`)\n      .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n      )\n      .then(json => {\n        dispatch(receiveFollowing(requestedAt, json))\n      })\n  }\n}","import updateUserLocally from './updateUserLocally'\nimport refreshUser from './refreshUser'\nimport localforage from \"localforage\"\n\nexport default function updateUser(newUserId) {\n  return function(dispatch, getState) {\n\n    localforage.setItem('kb-username', newUserId).then(() => {\n      return localforage.getItem('kb-username')\n    }).then(value => {\n      dispatch(updateUserLocally(newUserId))\n      dispatch(refreshUser())\n    })\n\n  }\n}","import updateUserOwnedSession from './updateUserOwnedSession'\nimport fetchFollowing from './fetchFollowing'\n\nexport default function refreshUser() {\n  return function(dispatch, getState) {\n      dispatch(updateUserOwnedSession())\n      dispatch(fetchFollowing())\n  }\n}","export const UPDATE_SESSION_LOCALLY = 'UPDATE_SESSION_LOCALLY'\n\nexport default function updateSessionLocally(newSessionID, newSessionName) {\n  return {\n    type: UPDATE_SESSION_LOCALLY,\n    newSessionID,\n    newSessionName\n  }\n}","import localforage from 'localforage'\nimport updateSessionLocally from './updateSessionLocally'\nimport refreshSession from './refreshSession'\n\nexport default function updateSession(newSessionID, newSessionName) {\n  return function(dispatch, getState) {\n\n    localforage.setItem('kb-session', {id: newSessionID, name: newSessionName}).then(() => {\n      return localforage.getItem('kb-session')\n    }).then(sessionInfo => {\n      dispatch(updateSessionLocally(sessionInfo.id, sessionInfo.name))\n      dispatch(refreshSession())\n    })\n\n  }\n}","import fetchItems from '../queue/fetchItems'\nimport updateUserOwnedSession from '../user/updateUserOwnedSession'\n\nexport default function refreshSession() {\n  return function(dispatch, getState) {\n      dispatch(fetchItems())\n      dispatch(updateUserOwnedSession())\n  }\n}","export const UPDATE_MENU_FORM_FIELD = 'UPDATE_MENU_FORM_FIELD'\n\nexport default function updateMenuFormField(field, newVal) {\n  return {\n    type: UPDATE_MENU_FORM_FIELD,\n    field,\n    newVal\n  }\n}","import { connect } from 'react-redux'\nimport KBMenuPrimaryView from '../../components/KBMenuPrimaryView'\nimport updateCurrentMenuView from '../../actions/menu/updateCurrentMenuView'\nimport updateUser from '../../actions/user/updateUser'\nimport deleteOwnedSession from '../../actions/user/deleteOwnedSession'\nimport updateSession from '../../actions/session/updateSession'\nimport unfollowUser from '../../actions/user/unfollowUser'\nimport updateMenuFormField from '../../actions/menu/updateMenuFormField'\nimport { views } from '../../reducers/menu/currentView'\n\nconst mapStateToProps = state => {\n  return {\n    username: state.user.id,\n    sessionName: state.session.name,\n    sessionID: state.session.id,\n    mySessionID: state.user.session.id,\n    mySessionName: state.user.session.name,\n    following: state.user.following.items\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateView: view => {\n      dispatch(updateCurrentMenuView(view))\n    },\n    logout: () => {\n      dispatch(updateUser(null))\n    },\n    leaveSession: () => {\n      dispatch(updateSession(null, null))\n    },\n    joinSession: (sessionID) => {\n      dispatch(updateCurrentMenuView(views.JOIN))\n      dispatch(updateMenuFormField('sessionID', sessionID))\n    },\n    updateSession: (sessionID, sessionName) => {\n      dispatch(updateSession(sessionID, sessionName))\n    },\n    deleteMySession: () => {\n      dispatch(deleteOwnedSession())\n    },\n    unfollowUser: following => {\n      dispatch(unfollowUser(following))\n    }\n  }\n}\n\nconst KBMenuPrimaryViewContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBMenuPrimaryView)\n\nexport default KBMenuPrimaryViewContainer","import updateUserOwnedSessionLocally from './updateUserOwnedSessionLocally'\nimport updateSession from '../session/updateSession'\n\nexport default function deleteOwnedSession() {\n  return function(dispatch, getState) {\n\n    let DELETE_URL = `https://frabric.herokuapp.com/end_session?session_id=${getState().user.session.id}`\n\n    fetch(DELETE_URL).then(response => {\n      if (response.ok) {\n        if (getState().session.id === getState().user.session.id) {\n          dispatch(updateSession(null, null))\n        }\n        dispatch(updateUserOwnedSessionLocally(null, null))\n      }\n    })\n\n  }\n}","import fetchFollowing from './fetchFollowing'\n\nexport default function unfollowUser(following) {\n  return function(dispatch, getState) {\n\n    return fetch(`https://frabric.herokuapp.com/unfollow_user/?follower=${getState().user.id}&following=${following}`)\n      .then(\n        error => console.log('An error occurred.', error)\n      )\n      .then(response => {\n        dispatch(fetchFollowing())\n      })\n\n  }\n}","import React, { Component } from 'react'\nimport PatientSearchBar from '../PatientSearchBar'\nimport PropTypes from 'prop-types'\nimport './KBFormInputBar.scss'\n\nclass KBFormInputBar extends Component {\n  render() {\n    return (\n      <div className='kb-form-input-bar-container'>\n        <div className='kb-form-input-bar-header'>\n          {this.props.label}\n        </div>\n        <PatientSearchBar\n          placeholder={this.props.placeholder}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          className=\"kb-form-input-bar-text\"\n        />\n      </div>\n    )\n  }\n}\n\nKBFormInputBar.propTypes = {\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  label: PropTypes.string\n}\n\nexport default KBFormInputBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './KBMenuFormView.scss'\nimport '../KBMenuPrimaryView/KBMenuPrimaryView.scss'\nimport FormInputBar from '../KBFormInputBar'\n\nclass KBMenuFormView extends Component {\n\n  render() {\n\n    const inputs = this.props.formInfo.inputs\n    const inputContent = Object.keys(inputs).map(field => (\n      <FormInputBar\n        label={inputs[field].label}\n        placeholder={inputs[field].placeholder}\n        value={inputs[field].value}\n        onChange={newVal => this.props.onInputChange(field, newVal)}\n        key={field}\n      />\n    ))\n\n    return (\n      <div className='kb-menu-form-view'>\n        <div className='kb-menu-form-header'>\n          {this.props.formInfo.title}\n        </div>\n        <div className='kb-menu-form-view-input-container'>\n          {inputContent}\n        </div>\n        <div className='kb-menu-form-view-error'>\n          {this.props.formInfo.error}\n        </div>\n        <div className='kb-menu-form-view-controls'>\n          <div className='kb-menu-form-view-submit'>\n            <a className='kb-menu-link' onClick={this.props.onSubmit}>{this.props.formInfo.submitLabel}</a>\n          </div>\n          <div className='kb-menu-form-view-cancel'>\n            <a className='kb-menu-link' onClick={this.props.onCancel}>Cancel</a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nKBMenuFormView.propTypes = {\n  formInfo: PropTypes.object,\n  onCancel: PropTypes.func,\n  onSubmit: PropTypes.func,\n  onInputChange: PropTypes.func\n}\n\nexport default KBMenuFormView","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { views } from '../../reducers/menu/currentView.js'\nimport KBMenuPrimaryViewContainer from '../../containers/KBMenuPrimaryViewContainer'\nimport KBMenuFormView from '../KBMenuFormView'\nimport './KBMenu.scss'\n\n\nclass KBMenu extends Component {\n  render() {\n\n    var viewContent = null\n    switch (this.props.currentView) {\n      case views.PRIMARY:\n        viewContent = <KBMenuPrimaryViewContainer/>\n        break\n      case views.LOGIN:\n      case views.SIGN_UP:\n      case views.CREATE:\n      case views.ADD_FOLLOWER:\n      case views.JOIN:\n        viewContent = <KBMenuFormView\n          formInfo={this.props.formInfo}\n          onInputChange={this.props.onInputChange}\n          onSubmit={()=> {this.props.onSubmit(this.props.formInfo)}}\n          onCancel={() => {this.props.updateView(views.PRIMARY)}}\n        />\n        break\n      default:\n        viewContent = <div> Error </div>\n        break\n    }\n\n    return (\n      <div className='kb-menu'>\n        <div className='kb-menu-title'>\n          Menu\n        </div>\n        {viewContent}\n      </div>\n    )\n  }\n}\n\nKBMenu.propTypes = {\n  currentView: PropTypes.string,\n  updateView: PropTypes.func,\n  onInputChange: PropTypes.func,\n  formInfo: PropTypes.object\n}\n\nexport default KBMenu","export const UPDATE_MENU_FORM_ERROR = 'UPDATE_MENU_FORM_ERROR'\n\nexport default function updateMenuFormError(newError) {\n  return {\n    type: UPDATE_MENU_FORM_ERROR,\n    newError\n  }\n}","import updateMenuFormError from './updateMenuFormError'\nimport updateCurrentMenuView from './updateCurrentMenuView'\nimport updateUser from '../user/updateUser'\nimport updateSession from '../session/updateSession'\nimport followUser from '../user/followUser'\nimport { views } from '../../reducers/menu/currentView'\n\nfunction safeNull(obj) {\n  if (!obj) {\n    return null\n  }\n  return obj\n}\n\nexport default function submitMenuForm(formInfo) {\n  return function(dispatch, getState) {\n\n    dispatch(updateMenuFormError(''))\n\n    const BASE_URL = 'https://frabric.herokuapp.com/'\n    var url = null;\n\n    // Build form submission url based on form inputs\n    switch (formInfo.id) {\n      case views.LOGIN:\n        url = BASE_URL + `validate_user?username=${formInfo.inputs.username.value}&password=${formInfo.inputs.password.value}`\n        break\n      case views.SIGN_UP:\n        url = BASE_URL + `create_user?username=${formInfo.inputs.username.value}&password=${formInfo.inputs.password.value}`\n        break\n      case views.JOIN:\n        url = BASE_URL + `validate_session?session_id=${formInfo.inputs.sessionID.value}&session_password=${formInfo.inputs.sessionPassword.value}`\n        break\n      case views.CREATE:\n        url = BASE_URL + `create_session?session_id=${formInfo.inputs.sessionID.value}&session_password=${formInfo.inputs.sessionPassword.value}` +\n          `&session_name=${formInfo.inputs.sessionName.value}&owner=${getState().user.id}`\n        break\n      case views.ADD_FOLLOWER:\n        handle(() => dispatch(followUser(formInfo.inputs.username.value)))\n        return\n      default:\n        break\n    }\n\n    // Submit form data to endpoint\n    handle(() => fetch(url))\n\n    function handle(promise) {\n      promise().then(function(response) {\n        handleError(formInfo, response)\n        return response\n      }).then(function(response) {\n        handleSuccess(formInfo, response)\n      }).catch(function(error) {\n          console.log(error)\n      })\n    }\n\n    function handleError(formInfo, response) {\n      if (!response.ok) {\n        response.text().then(errorText => dispatch(updateMenuFormError(errorText)))\n      }\n    }\n\n    function handleSuccess(formInfo, response) {\n      if (response.ok) {\n        switch (formInfo.id) {\n          case views.LOGIN:\n          case views.SIGN_UP:\n            dispatch(updateUser(formInfo.inputs.username.value))\n            break\n          case views.CREATE:\n          case views.JOIN:\n            response.text().then(text => {\n              response = JSON.parse(text)\n              dispatch(updateSession(safeNull(response.session_id), safeNull(response.session_name)))\n            })\n            break\n          default:\n            break\n        }\n        dispatch(updateCurrentMenuView(views.PRIMARY))\n      }\n    }\n\n  }\n}\n","import fetchFollowing from './fetchFollowing'\n\nexport default function followUser(following) {\n  return function(dispatch, getState) {\n\n    return fetch(`https://frabric.herokuapp.com/follow_user/?follower=${getState().user.id}&following=${following}`)\n      .then(response => {\n        dispatch(fetchFollowing())\n        return response\n      })\n  }\n}","import { connect } from 'react-redux'\nimport KBMenu from '../../components/KBMenu'\nimport updateCurrentMenuView from '../../actions/menu/updateCurrentMenuView'\nimport updateMenuFormField from '../../actions/menu/updateMenuFormField.js'\nimport submitMenuForm from '../../actions/menu/submitMenuForm.js'\n\nconst mapStateToProps = state => {\n  return {\n    currentView: state.menu.currentView,\n    formInfo: state.menu.formInfo\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateView: view => {\n      dispatch(updateCurrentMenuView(view))\n    },\n    onInputChange: (field, newVal) => {\n      dispatch(updateMenuFormField(field, newVal))\n    },\n    onSubmit: formInfo => {\n      dispatch(submitMenuForm(formInfo))\n    }\n  }\n}\n\nconst KBMenuContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBMenu)\n\nexport default KBMenuContainer","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport KBQueueContainer from '../../containers/KBQueueContainer'\nimport KBNowPlayingContainer from '../../containers/KBNowPlayingContainer'\nimport KBSearchResultListContainer from '../../containers/KBSearchResultListContainer'\nimport KBControlPanelNavBarContainer from '../../containers/KBControlPanelNavBarContainer'\nimport KBMenuContainer from '../../containers/KBMenuContainer'\nimport {tabs} from '../../reducers/tab/current.js'\nimport './KBControlPanel.scss'\n\n\nexport class KBControlPanel extends Component {\n\n  render() {\n\n    var mainTab = undefined\n    switch (this.props.currentTab) {\n      case tabs.SEARCH:\n        mainTab = <KBSearchResultListContainer/>\n        break\n      case tabs.QUEUE:\n        mainTab = <KBQueueContainer/>\n        break\n      case tabs.NOW_PLAYING:\n        mainTab = <KBNowPlayingContainer/>\n        break\n      default:\n        mainTab = <div> Error </div>\n        break\n    }\n\n    const menu = this.props.isMenuOpen ? <KBMenuContainer/> : null\n    const chat = this.props.isChatOpen ? <div className='kb-right-control'/> : null\n\n    return (\n      <div className='kb-control-panel'>\n        {menu}\n        <div className='kb-center-control'>\n          <KBControlPanelNavBarContainer/>\n          {mainTab}\n        </div>\n        {chat}\n      </div>\n    )\n  }\n\n}\n\nKBControlPanel.propTypes = {\n  currentTab: PropTypes.string,\n  isMenuOpen: PropTypes.bool,\n  isChatOpen: PropTypes.bool\n}\n\nexport default KBControlPanel","import { connect } from 'react-redux'\nimport KBControlPanel from '../../components/KBControlPanel'\nimport updateCurrent from '../../actions/tab/updateCurrent'\n\nconst mapStateToProps = state => {\n  return {\n    items: state.search.results.items || [],\n    currentTab: state.tab.current,\n    isMenuOpen: state.menu.isOpen,\n    isChatOpen: state.chat.isOpen\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  }\n}\n\nconst KBControlPanelContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBControlPanel)\n\nexport default KBControlPanelContainer","export const UPDATE_ACCESS_TOKEN_LOCALLY = 'UPDATE_ACCESS_TOKEN_LOCALLY'\n\nexport default function updateAccessTokenLocally(newAccessToken) {\n  return {\n    type: UPDATE_ACCESS_TOKEN_LOCALLY,\n    newAccessToken\n  }\n}","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport SpotifyWebApi from 'spotify-web-api-node'\n\n// Spotify Authorization variables\nconst authEndpoint = 'https://accounts.spotify.com/authorize'\nconst clientId = \"c7068e47edfd40ce947f93adfc20eb96\"\n// const redirectUri = \"http://localhost:3000\"\nconst redirectUri = \"https://zivkaputa.github.io/kickback-redux\"\nconst scopes = [\n  \"user-read-currently-playing\",\n  \"user-read-playback-state\",\n  \"user-modify-playback-state\",\n  \"streaming\"\n]\nconst authorizeURL = `${authEndpoint}?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&scope=${scopes.join(\"%20\")}&response_type=token&show_dialog=true`\n\n// Spotify API object used to interact with songs\nvar spotifyApi = new SpotifyWebApi({\n  clientId: clientId,\n  redirectUri: redirectUri\n});\n\n// Helper function to get hash parameters from redirect URI\n// From https://stackoverflow.com/questions/11920697/how-to-get-hash-value-in-a-url-in-js\nfunction getHashValue(key) {\n  var matches = window.location.hash.match(new RegExp(key+'=([^&]*)'));\n  return matches ? matches[1] : null;\n}\n\n// Uses the specified player to play the given track\nconst play = ({\n  spotify_uri,\n  playerInstance: {\n    _options: {\n      getOAuthToken,\n      id\n    }\n  }\n}) => {\n  getOAuthToken(access_token => {\n    fetch(`https://api.spotify.com/v1/me/player/play?device_id=${id}`, {\n      method: 'PUT',\n      body: JSON.stringify({ uris: [spotify_uri] }),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${access_token}`\n      },\n    });\n  });\n};\n\n// Wrapper component used to interact with Spotify and manage song playback\nclass KBSpotifyManager extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.handleAuthorization = this.handleAuthorization.bind(this)\n    this.playSong = this.playSong.bind(this)\n    this.pauseSong = this.pauseSong.bind(this)\n    this.checkAuthorization = this.checkAuthorization.bind(this)\n    this.initializePlayer = this.initializePlayer.bind(this)\n    this.player = null\n  }\n\n  checkAuthorization() {\n    if (!this.props.accessToken) {\n      this.handleAuthorization()\n    }\n  }\n\n  handleAuthorization() {\n    window.location = authorizeURL\n  }\n\n  initializePlayer() {\n    var player = new window.Spotify.Player({\n      name: 'Kickback Player',\n      getOAuthToken: callback => {\n        callback(this.props.accessToken)\n      },\n      volume: 0.5\n    })\n\n    player.addListener('ready', ({ device_id }) => {\n      player.id = device_id\n      this.player = player\n    })\n\n    player.connect().then(success => {\n      if (success) {\n        console.log('The Web Playback SDK successfully connected to Spotify!')\n      }\n    })\n  }\n\n  playSong(uri) {\n\n    play({\n      playerInstance: this.player,\n      spotify_uri: uri\n    })\n\n  }\n\n  pauseSong() {\n\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.playerActive) {\n      if (this.player) {\n        if (nextProps.currentTrack && (!this.props.currentTrack || nextProps.currentTrack.id != this.props.currentTrack.id)) {\n          this.playSong(nextProps.currentTrack.uri)\n        }\n      }\n    }\n    return true;\n  }\n\n  render() {\n\n    if (this.props.playerActive) {\n\n      if (window.Spotify && !this.player) {\n        this.initializePlayer()\n      } else if (!window.Spotify && !this.player) {\n        window.onSpotifyWebPlaybackSDKReady = () => {\n          this.initializePlayer()\n        }\n      }\n\n      // Token request was succesful, parse token from URL\n      const accessToken = getHashValue('access_token')\n      if (accessToken) {\n        this.props.updateAccessToken(accessToken)\n        window.history.replaceState(null, null, '/')\n        return null\n      }\n\n\n      // No token currently stored, need to request a new token\n      if (!this.props.accessToken && this.props.playerActive) {\n        this.handleAuthorization()\n      }\n\n    }\n\n    return null\n  }\n\n}\n\n\nKBSpotifyManager.propTypes = {\n  accessToken: PropTypes.string,\n  updateAccessToken: PropTypes.func,\n  playerActive: PropTypes.bool,\n  currentUri: PropTypes.string\n}\n\nexport default KBSpotifyManager\n","import { connect } from 'react-redux'\nimport updateAccessTokenLocally from '../../actions/spotify/updateAccessTokenLocally'\nimport KBSpotifyManager from '../../components/KBSpotifyManager'\n\nconst mapStateToProps = state => {\n  return {\n    accessToken: state.spotify.accessToken,\n    playerActive: (state.user.session.id && (state.user.session.id === state.session.id)),\n    currentTrack: (state.queue.data.items.length > 0) ? {uri: ('spotify:track:' + state.queue.data.items[0].uri), id: state.queue.data.items[0].song_id} : null\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateAccessToken: accessToken => {\n      dispatch(updateAccessTokenLocally(accessToken))\n    }\n  }\n}\n\nconst KBSpotifyManagerContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KBSpotifyManager)\n\nexport default KBSpotifyManagerContainer","import React, { Component } from 'react'\nimport logo from './logo.svg'\nimport KBControlPanelContainer from './containers/KBControlPanelContainer'\nimport KBNavBar from './components/KBNavBar'\nimport KBSpotifyManagerContainer from './containers/KBSpotifyManagerContainer'\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport './App.scss'\n\nclass App extends Component {\n  render() {\n\n    return (\n      <div className=\"App\">\n        <KBSpotifyManagerContainer/>\n        <KBNavBar type='primary'>Kickback</KBNavBar>\n        <KBControlPanelContainer/>\n        <ToastContainer\n          toastClassName=\"kb-toast\"\n          position=\"bottom-center\"\n          autoClose={3000}\n          hideProgressBar={true}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnVisibilityChange={false}\n          draggable\n          pauseOnHover={false}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import App from './App.js'\nimport { connect } from 'react-redux'\n\nconst mapStateToProps = state => {\n  return {\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  }\n}\n\nconst VisibleApp = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n\nexport default VisibleApp","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { SEARCH_REQUEST_RESULTS } from '../../actions/search/requestResults.js'\nimport { SEARCH_UPDATE_QUERY } from '../../actions/search/updateQuery.js'\n\nconst DEFAULT_STATE = ''\n\nexport default function query(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case SEARCH_UPDATE_QUERY:\n    case SEARCH_REQUEST_RESULTS:\n      return action.query\n    default:\n      return state\n  }\n}","import { SEARCH_UPDATE_SCROLL_POSITION } from '../../actions/search/updateScrollPosition.js'\n\nconst DEFAULT_STATE = 0\n\nexport default function scrollPosition(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case SEARCH_UPDATE_SCROLL_POSITION:\n      return action.scrollPosition\n    default:\n      return state\n  }\n}","export const SEARCH_INVALIDATE_RESULTS = 'SEARCH_INVALIDATE_RESULTS'\n\nexport default function invalidateResults() {\n  return {\n    type: SEARCH_INVALIDATE_RESULTS,\n  }\n}","import { SEARCH_INVALIDATE_RESULTS } from '../../actions/search/invalidateResults.js'\nimport { SEARCH_RECEIVE_RESULTS } from '../../actions/search/receiveResults.js'\nimport { SEARCH_REQUEST_RESULTS } from '../../actions/search/requestResults.js'\n\nconst DEFAULT_STATE = {\n  isFetching: false,\n  didInvalidate: false,\n  lastUpdated: 0,\n  lastRequestedAt: 0,\n  lastSuccesfullyRequestedAt: 0,\n  items: []\n}\n\nexport default function results(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case SEARCH_INVALIDATE_RESULTS:\n      return {...state, didInvalidate: true}\n    case SEARCH_RECEIVE_RESULTS:\n      if (action.requestedAt === state.lastRequestedAt) {\n        return {\n          ...state,\n          didInvalidate: false,\n          isFetching: false,\n          items: action.items,\n          lastUpdated: action.receivedAt,\n          lastSuccesfullyRequestedAt: action.requestedAt\n        }\n      } else {\n        return state\n      }\n    case SEARCH_REQUEST_RESULTS:\n      return {\n        ...state,\n        didInvalidate: false,\n        isFetching: false,\n        lastRequestedAt: action.requestedAt\n      }\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport query from './query.js'\nimport scrollPosition from './scrollPosition.js'\nimport results from './results.js'\n\nconst search = combineReducers({\n  query,\n  scrollPosition,\n  results,\n})\n\nexport default search","export const QUEUE_INVALIDATE_ITEMS = 'QUEUE_INVALIDATE_ITEMS'\n\nexport default function invalidateItems() {\n  return {\n    type: QUEUE_INVALIDATE_ITEMS,\n  }\n}","import { QUEUE_INVALIDATE_ITEMS } from '../../actions/queue/invalidateItems.js'\nimport { QUEUE_RECEIVE_ITEMS } from '../../actions/queue/receiveItems.js'\nimport { QUEUE_REQUEST_ITEMS } from '../../actions/queue/requestItems.js'\nimport { QUEUE_ADD_ITEM_LOCALLY } from '../../actions/queue/addItemLocally.js'\nimport { QUEUE_DELETE_ITEM_LOCALLY } from '../../actions/queue/deleteItemLocally.js'\nimport { QUEUE_REORDER_ITEMS_LOCALLY } from '../../actions/queue/reorderItemsLocally.js'\n\nconst DEFAULT_STATE = {\n  isFetching: false,\n  didInvalidate: false,\n  lastUpdated: 0,\n  lastRequestedAt: 0,\n  lastSuccesfullyRequestedAt: 0,\n  items: []\n}\n\nexport default function data(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case QUEUE_DELETE_ITEM_LOCALLY:\n      let newItemsDelete = Array.from(state.items)\n      newItemsDelete.splice(action.deleteItemId, 1)\n      return {...state, didInvalidate: true, items: newItemsDelete}\n    case QUEUE_REORDER_ITEMS_LOCALLY:\n      let newItemsReorder = Array.from(state.items)\n      let movedItemReorder = newItemsReorder[action.fromId]\n      newItemsReorder.splice(action.fromId, 1)\n      newItemsReorder.splice(action.toId, 0, movedItemReorder)\n      return {...state, didInvalidate: true, items: newItemsReorder}\n    case QUEUE_ADD_ITEM_LOCALLY:\n      return {...state, didInvalidate: true, items:[...state.items, action.item]}\n    case QUEUE_INVALIDATE_ITEMS:\n      return {...state, didInvalidate: true}\n    case QUEUE_RECEIVE_ITEMS:\n      if (action.requestedAt === state.lastRequestedAt) {\n        return {\n          ...state,\n          didInvalidate: false,\n          isFetching: false,\n          items: action.items,\n          lastUpdated: action.receivedAt,\n          lastSuccesfullyRequestedAt: action.requestedAt\n        }\n      } else {\n        return state\n      }\n    case QUEUE_REQUEST_ITEMS:\n      return {\n        ...state,\n        didInvalidate: false,\n        isFetching: false,\n        lastRequestedAt: action.requestedAt\n      }\n    default:\n      return state\n  }\n}","import { QUEUE_UPDATE_SCROLL_POSITION } from '../../actions/queue/updateScrollPosition.js'\n\nconst DEFAULT_STATE = 0\n\nexport default function scrollPosition(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case QUEUE_UPDATE_SCROLL_POSITION:\n      return action.scrollPosition\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport data from './data.js'\nimport scrollPosition from './scrollPosition.js'\n\nconst queue = combineReducers({\n  data,\n  scrollPosition,\n})\n\nexport default queue","import { UPDATE_SESSION_LOCALLY } from '../../actions/session/updateSessionLocally.js'\n\nconst DEFAULT_STATE = null\n\nexport default function id(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case UPDATE_SESSION_LOCALLY:\n      return action.newSessionID\n    default:\n      return state\n  }\n}","import { UPDATE_SESSION_LOCALLY } from '../../actions/session/updateSessionLocally.js'\n\nconst DEFAULT_STATE = null\n\nexport default function name(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case UPDATE_SESSION_LOCALLY:\n      return action.newSessionName\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport id from './id.js'\nimport name from './name.js'\n\nconst session = combineReducers({\n  id,\n  name\n})\n\nexport default session","import { UPDATE_USER_LOCALLY } from '../../actions/user/updateUserLocally.js'\n\nconst DEFAULT_STATE = null\n\nexport default function id(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case UPDATE_USER_LOCALLY:\n      return action.newUserId\n    default:\n      return state\n  }\n}","import { UPDATE_USER_OWNED_SESSION_LOCALLY } from '../../actions/user/updateUserOwnedSessionLocally.js'\n\nconst DEFAULT_STATE = {id: null, name: null}\n\nexport default function session(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case UPDATE_USER_OWNED_SESSION_LOCALLY:\n      return {id: action.sessionID, name: action.sessionName}\n    default:\n      return state\n  }\n}","export const FOLLOWING_INVALIDATE_RESULTS = 'FOLLOWING_INVALIDATE_RESULTS'\n\nexport default function invalidateFollowing() {\n  return {\n    type: FOLLOWING_INVALIDATE_RESULTS,\n  }\n}","import { FOLLOWING_INVALIDATE_RESULTS } from '../../actions/user/invalidateFollowing.js'\nimport { FOLLOWING_RECEIVE_RESULTS } from '../../actions/user/receiveFollowing.js'\nimport { FOLLOWING_REQUEST_RESULTS } from '../../actions/user/requestFollowing.js'\n\nconst DEFAULT_STATE = {\n  isFetching: false,\n  didInvalidate: false,\n  lastUpdated: 0,\n  lastRequestedAt: 0,\n  lastSuccesfullyRequestedAt: 0,\n  items: []\n}\n\nexport default function following(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case FOLLOWING_INVALIDATE_RESULTS:\n      return {...state, didInvalidate: true}\n    case FOLLOWING_RECEIVE_RESULTS:\n      if (action.requestedAt === state.lastRequestedAt) {\n        return {\n          ...state,\n          didInvalidate: false,\n          isFetching: false,\n          items: action.items,\n          lastUpdated: action.receivedAt,\n          lastSuccesfullyRequestedAt: action.requestedAt\n        }\n      } else {\n        return state\n      }\n    case FOLLOWING_REQUEST_RESULTS:\n      return {\n        ...state,\n        didInvalidate: false,\n        isFetching: false,\n        lastRequestedAt: action.requestedAt\n      }\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport id from './id.js'\nimport session from './session.js'\nimport following from './following.js'\n\nconst user = combineReducers({\n  id,\n  session,\n  following\n})\n\nexport default user","import { combineReducers } from 'redux'\nimport current from './current.js'\n\nconst tab = combineReducers({\n  current\n})\n\nexport default tab","import { MENU_TOGGLE } from '../../actions/menu/toggleMenu.js'\n\nconst DEFAULT_STATE = true\n\nexport default function isOpen(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case MENU_TOGGLE:\n      return !state\n    default:\n      return state\n  }\n}","import { MENU_VIEW_UPDATE_CURRENT } from '../../actions/menu/updateCurrentMenuView.js'\nimport { UPDATE_MENU_FORM_FIELD } from '../../actions/menu/updateMenuFormField.js'\nimport { UPDATE_MENU_FORM_ERROR } from '../../actions/menu/updateMenuFormError.js'\nimport { views } from './currentView.js'\n\nconst DEFAULT_STATE = {}\n\nconst USERNAME_PLACEHOLDER = 'e.g. Bobby Shmurda'\nconst PASSWORD_PLACEHOLDER = 'e.g. FreeBobby2019'\nconst SESSION_ID_PLACEHOLDER = 'e.g. 12345'\nconst SESSION_NAME_PLACEHOLDER = 'e.g. Bobby\\'s Fire Beats'\n\nexport default function formInfo(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case MENU_VIEW_UPDATE_CURRENT:\n      switch (action.currentView) {\n        case views.LOGIN:\n          return {\n            id: views.LOGIN,\n            inputs: {\n              username: {\n                label: 'Username',\n                placeholder: USERNAME_PLACEHOLDER,\n                value: ''\n              },\n              password: {\n                label: 'Password',\n                placeholder: PASSWORD_PLACEHOLDER,\n                value: ''\n              }\n            },\n            title: 'Log In to Kickback',\n            submitLabel: 'Log In',\n            error: ''\n          }\n        case views.SIGN_UP:\n          return {\n            id: views.SIGN_UP,\n            inputs: {\n              username: {\n                label: 'Username',\n                placeholder: USERNAME_PLACEHOLDER,\n                value: ''\n              },\n              password: {\n                label: 'Password',\n                placeholder: PASSWORD_PLACEHOLDER,\n                value: ''\n              }\n            },\n            title: 'Sign Up for Kickback',\n            submitLabel: 'Sign Up',\n            error: ''\n          }\n        case views.JOIN:\n          return {\n            id: views.JOIN,\n            inputs: {\n              sessionID: {\n                label: 'Session ID',\n                placeholder: SESSION_ID_PLACEHOLDER,\n                value: ''\n              },\n              sessionPassword: {\n                label: 'Session Password',\n                placeholder: PASSWORD_PLACEHOLDER,\n                value: ''\n              }\n            },\n            title: 'Join a Session',\n            submitLabel: 'Join',\n            error: ''\n          }\n        case views.CREATE:\n          return {\n            id: views.CREATE,\n            inputs: {\n              sessionName: {\n                label: 'Session Name',\n                placeholder: SESSION_NAME_PLACEHOLDER,\n                value: ''\n              },\n              sessionID: {\n                label: 'Session ID (Optional)',\n                placeholder: SESSION_ID_PLACEHOLDER,\n                value: ''\n              },\n              sessionPassword: {\n                label: 'Session Password (Optional)',\n                placeholder: PASSWORD_PLACEHOLDER,\n                value: ''\n              }\n            },\n            title: 'Create a Session',\n            submitLabel: 'Create and Join',\n            error: ''\n          }\n        case views.ADD_FOLLOWER:\n          return {\n            id: views.ADD_FOLLOWER,\n            inputs: {\n              username: {\n                label: 'Username',\n                placeholder: USERNAME_PLACEHOLDER,\n                value: ''\n              }\n            },\n            title: 'Follow a User',\n            submitLabel: 'Follow',\n            error: ''\n          }\n        default:\n          return state\n      }\n    case UPDATE_MENU_FORM_FIELD:\n      switch (state.id) {\n        case views.JOIN:\n        case views.CREATE:\n          if (action.field === 'sessionID' && action.newVal.length > 4) {\n            return state\n          }\n        default:\n          return {\n            ...state,\n            inputs: {\n              ...state.inputs,\n              [action.field]: {\n                ...state.inputs[action.field],\n                value: action.newVal\n              }\n            }\n          }\n      }\n    case UPDATE_MENU_FORM_ERROR:\n      return {...state, error: action.newError}\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport isOpen from './isOpen.js'\nimport currentView from './currentView.js'\nimport formInfo from './formInfo.js'\n\nconst menu = combineReducers({\n  isOpen,\n  currentView,\n  formInfo\n})\n\nexport default menu","import { CHAT_TOGGLE } from '../../actions/chat/toggleChat.js'\n\nconst DEFAULT_STATE = false\n\nexport default function isOpen(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case CHAT_TOGGLE:\n      return !state\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport isOpen from './isOpen.js'\n\nconst chat = combineReducers({\n  isOpen\n})\n\nexport default chat","import { UPDATE_ACCESS_TOKEN_LOCALLY } from '../../actions/spotify/updateAccessTokenLocally.js'\n\nconst DEFAULT_STATE = null\n\nexport default function accessToken(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case UPDATE_ACCESS_TOKEN_LOCALLY:\n      return action.newAccessToken\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport accessToken from './accessToken.js'\n\nconst spotify = combineReducers({\n  accessToken\n})\n\nexport default spotify","import { combineReducers } from 'redux'\nimport search from './search'\nimport queue from './queue'\nimport session from './session'\nimport user from './user'\nimport tab from './tab'\nimport menu from './menu'\nimport chat from './chat'\nimport spotify from './spotify'\n\nconst rootReducer = combineReducers({\n  search,\n  queue,\n  session,\n  user,\n  tab,\n  menu,\n  chat,\n  spotify\n})\n\nexport default rootReducer","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css'\nimport 'mdbreact/dist/css/mdb.css'\nimport VisibleApp from './VisibleApp'\nimport * as serviceWorker from './serviceWorker'\n\nimport thunkMiddleware from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport rootReducer from './reducers'\nimport restoreUser from './actions/user/restoreUser.js'\nimport restoreSession from './actions/session/restoreSession.js'\n\nconst loggerMiddleware = createLogger()\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(\n    thunkMiddleware,\n    loggerMiddleware\n  )\n)\n\nstore.dispatch(restoreUser())\nstore.dispatch(restoreSession())\n\nReactDOM.render(\n  <Provider store={store}>\n    <VisibleApp />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import localforage from 'localforage'\nimport updateUser from './updateUser'\n\nexport default function restoreUser() {\n  return function(dispatch, getState) {\n    localforage.getItem('kb-username').then(username => {\n      if (username) {\n        dispatch(updateUser(username))\n      }\n    })\n  }\n}","import localforage from 'localforage'\nimport updateSession from './updateSession'\n\nexport default function restoreSession() {\n  return function(dispatch, getState) {\n    localforage.getItem('kb-session').then(sessionInfo => {\n      if (sessionInfo && sessionInfo.id && sessionInfo.name) {\n          dispatch(updateSession(sessionInfo.id, sessionInfo.name))\n      }\n    })\n  }\n}","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";"],"sourceRoot":""}